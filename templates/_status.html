{% if running %}
  {% if verify and phase == 'verifying' %}
    <div class="alert alert-info d-flex align-items-center" role="alert">
      <i class="bi bi-shield-check me-2"></i>
      <div>Verifying…</div>
    </div>
  {% else %}
    {% if phase == 'writing' %}
      <div class="alert alert-primary d-flex align-items-center" role="alert">
        <i class="bi bi-pencil-square me-2"></i>
        <div>Writing…</div>
      </div>
    {% else %}
      <div class="alert alert-warning d-flex align-items-center" role="alert">
        <i class="bi bi-hourglass-split me-2"></i>
        <div>Waiting for tag… writer is active.</div>
      </div>
    {% endif %}
  {% endif %}
{% elif ok is not none %}
  {% if ok %}
    <div class="alert alert-success d-flex align-items-center" role="alert">
      <i class="bi bi-check-circle me-2"></i>
      <div>
        {% if verify %}
          Wrote and verified:
        {% else %}
          Data was sent to the card.
          <br/>
          Wrote:
        {% endif %}
        <code class="text-break">{{ wrote_uri }}</code>
      </div>
    </div>
    {% if uid %}
      <p class="mb-1">Tag UID: <code>{{ uid }}</code></p>
    {% endif %}
    {% if verify and records and records|length > 0 %}
      <p class="mb-1">Decoded records:</p>
      <ul class="small">
        {% for r in records %}
          <li>{{ r }}</li>
        {% endfor %}
      </ul>
    {% endif %}
  {% else %}
    <div class="alert alert-danger d-flex align-items-center" role="alert">
      <i class="bi bi-x-circle me-2"></i>
      <div>Write failed: {{ status_message }}</div>
    </div>
  {% endif %}
{% else %}
  <p class="text-muted mb-0">Idle.</p>
{% endif %}
